<!-- chat.component.html -->
<div class="flex h-screen bg-gray-100">
    <!-- Sidebar -->
    <div class="w-1/4 bg-white border-r">
      <div class="p-4 border-b">
        <h2 class="text-xl font-semibold">Chats</h2>
      </div>
      <div class="overflow-y-auto h-[calc(100vh-4rem)]">
        <div *ngFor="let room of chatRooms" 
             (click)="selectRoom(room)"
             class="p-4 border-b hover:bg-gray-50 cursor-pointer"
             [class.bg-blue-50]="currentRoom?.id === room.id">
          <div class="font-medium">{{ room.name }}</div>
          <div class="text-sm text-gray-500">
            <!-- {{ room.lastMessage?.content || 'No messages yet' }} -->
          </div>
        </div>
      </div>
    </div>
  
    <!-- Chat Area -->
    <div class="flex-1 flex flex-col">
      <!-- Chat Header -->
      <div class="p-4 border-b bg-white">
        <h3 class="text-lg font-medium">
          {{ currentRoom?.name || 'Select a chat' }}
        </h3>
      </div>
  
      <!-- Messages -->
      <div class="flex-1 overflow-y-auto p-4 bg-gray-50">
        <div *ngFor="let message of messages" 
             class="mb-4 flex"
             [class.justify-end]="isOwnMessage(message)">
          <div [class.bg-blue-500]="isOwnMessage(message)"
               [class.bg-white]="!isOwnMessage(message)"
               [class.text-white]="isOwnMessage(message)"
               class="max-w-[70%] rounded-lg p-3 shadow">
            <div class="text-sm">{{ message.content }}</div>
            <div class="text-xs mt-1 opacity-75">
              <!-- {{ message.timestamp | date:'short' }} -->
            </div>
          </div>
        </div>
      </div>
  
      <!-- Message Input -->
      <div class="p-4 bg-white border-t">
        <div class="flex">
          <input type="text" 
                 [(ngModel)]="newMessage"
                 (keyup.enter)="sendMessage()"
                 placeholder="Type a message..."
                 class="flex-1 border rounded-l-lg px-4 py-2 focus:outline-none focus:border-blue-500">
          <button (click)="sendMessage()"
                  [disabled]="!newMessage.trim()"
                  class="bg-blue-500 text-white px-6 py-2 rounded-r-lg hover:bg-blue-600 disabled:opacity-50">
            Send
          </button>
        </div>
      </div>
    </div>
  </div>